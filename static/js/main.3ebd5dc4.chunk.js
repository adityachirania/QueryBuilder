(this.webpackJsonpquerybuilder=this.webpackJsonpquerybuilder||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),l=n(3),o=n.n(l),c=(n(12),n(4)),a=n(5),s=n(7),d=n(6),u=(n(13),["Theme","Sub-theme","Reason","Language","Source","Rating","Time Period"]),h=["Customer ID"],j=["Equals","Does not equal","Like","Not like","Is Empty","Is","Is not"],p=["Offers","Performance","Platform","Product Feedback"],b=n(0);var O=function(e){return Object(b.jsxs)("div",{className:"FilterForm",children:[Object(b.jsxs)("select",{className:"dropdown",name:"Field",id:"Field",onChange:function(t){var n=e.rules;n.field=t.target.value,e.handleEditFilter(n,e.group_idx,e.idx)},children:[Object(b.jsx)("option",{value:"None",disabled:!0,selected:!0,hidden:!0,children:"Select Field"}),Object(b.jsx)("optgroup",{label:"Prediction",children:u.map((function(e){return Object(b.jsx)("option",{value:e,children:e})}))}),Object(b.jsx)("optgroup",{label:"Common",children:h.map((function(e){return Object(b.jsx)("option",{value:e,children:e})}))})]}),Object(b.jsxs)("select",{className:"dropdown",name:"Condition",id:"Condition",onChange:function(t){var n=e.rules;n.condition=t.target.value,e.handleEditFilter(n,e.group_idx,e.idx)},children:[Object(b.jsx)("option",{value:"None",disabled:!0,selected:!0,hidden:!0,children:"Select Condition"}),Object(b.jsx)("optgroup",{label:"Prediction",children:j.map((function(e){return Object(b.jsx)("option",{value:e,children:e})}))})]}),Object(b.jsxs)("select",{className:"dropdown",name:"Value",id:"Value",onChange:function(t){var n=e.rules;n.value=t.target.value,e.handleEditFilter(n,e.group_idx,e.idx)},children:[Object(b.jsx)("option",{value:"None",disabled:!0,selected:!0,hidden:!0,children:"Select Value"}),p.map((function(e){return Object(b.jsx)("option",{value:e,children:e})}))]})]})};n(15);var g=function(e){var t={field:"None",condition:"None",value:"None",type:"rule"};return Object(b.jsxs)("div",{children:[e.group.children.map((function(t,n){return Object(b.jsx)(O,{rules:t,handleEditFilter:e.handleEditFilter,group_idx:e.idx,idx:n})})),Object(b.jsx)("button",{className:"Button",onClick:function(){return e.handleAddFilter(JSON.parse(JSON.stringify(t)),e.idx)},children:"Add filter"})]})};n(16);function f(e){var t=e.groupFilters,n=e.AND,i=" ( ";return t.forEach((function(e,r){var l="AND"===n?"&&":"||";if(e.children.length>1){!0===e.not&&(i+="!"),i+=" ( ";var o="AND"===e.conjunction?"&&":"||";e.children.forEach((function(t,n){n<e.children.length-1&&(i+=function(e){var t="";return(t=(t=" ( "+t+"field."+e.field)+" "+e.condition+" ")+e.value+" ) "}(t),n<e.children.length-2&&(i+=o))})),i+=" ) "}r<t.length-2&&(i+=l),r===t.length-2&&t[r+1].children.length>1&&(i+=l)})),i+=" ) "}var N=function(e){return Object(b.jsxs)("div",{children:["Build your Query:",Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"QueryText",children:["Query: ",f(e.state)]})]})},v=(n(17),{children:[JSON.parse(JSON.stringify({field:"None",condition:"None",value:"None",type:"rule"}))],conjunction:"AND",not:!1,type:"rule_group"}),x=[JSON.parse(JSON.stringify(v))],F=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={groupFilters:[].concat(x),AND:"AND"},e.handleGroupCombine=function(t){e.setState({AND:"AND"===t.target.value?"AND":"OR"})},e.handleEditFilter=function(t,n,i){var r=e.state.groupFilters;r[n].children[i]=JSON.parse(JSON.stringify(t)),e.setState({groupFilters:r})},e.handleAddFilter=function(t,n){if("None"!==e.state.groupFilters[n].children.slice(-1)[0].field&&"None"!==e.state.groupFilters[n].children.slice(-1)[0].value&&"None"!==e.state.groupFilters[n].children.slice(-1)[0].condition){var i=e.state.groupFilters;i[n].children.push(t),e.setState({groupFilters:i})}},e.handleAddGroup=function(t){if(e.state.groupFilters.slice(-1)[0].children.length>1){var n=e.state.groupFilters;n.push(t),e.setState({groupFilters:n})}},e.handleConjunction=function(t,n){var i=e.state.groupFilters;console.log(i[n]),i[n].conjunction=t,e.setState({groupFilters:i})},e.handleNot=function(t){var n=e.state.groupFilters;n[t].not=!e.state.groupFilters[t].not,e.setState({groupFilters:n})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"query",children:Object(b.jsx)(N,{state:this.state})}),Object(b.jsxs)("div",{className:"QueryBuilder",children:[Object(b.jsxs)("select",{className:"Conjunction",name:"Join",id:"Join",onChange:this.handleGroupCombine,children:[Object(b.jsx)("option",{value:"AND",children:"AND"}),Object(b.jsx)("option",{value:"OR",children:"OR"})]}),this.state.groupFilters.map((function(t,n){return Object(b.jsxs)("div",{className:"GroupBlock",children:[Object(b.jsxs)("select",{className:"Conjunction",name:"Join",id:"Join",onChange:function(t){return e.handleConjunction("AND"===t.target.value?"AND":"OR",n)},children:[Object(b.jsx)("option",{value:"AND",children:"AND"}),Object(b.jsx)("option",{value:"OR",children:"OR"})]}),Object(b.jsxs)("label",{children:[" NOT: ",Object(b.jsx)("input",{type:"checkbox",id:"NOT",name:"NOT",value:"NOT",onClick:function(){return e.handleNot(n)}})]}),Object(b.jsx)(g,{group:t,handleAddFilter:e.handleAddFilter,handleEditFilter:e.handleEditFilter,idx:n})]})})),Object(b.jsx)("button",{className:"Button",onClick:function(){return e.handleAddGroup(JSON.parse(JSON.stringify(v)))},children:"Add new group list"}),Object(b.jsx)("button",{className:"Button",children:"Finish"})]})]})}}]),n}(r.a.Component),m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,l=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),l(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root")),m()}],[[18,1,2]]]);
//# sourceMappingURL=main.3ebd5dc4.chunk.js.map